## 프로젝트 컴포넌트 분류 철학

1.  **Page**는 **Section**으로 이루어져 있습니다.
2.  **Section**은 **Component**로 이루어져 있습니다.
3.  각 **Component**는 **Header, Action, Field, Table, Cards**로 구성합니다.
4.  각 Component 중 **Cards** 형태는 재사용성을 위해 **Cards**로 따로 분류합니다.
5.  각 Page에서 공통적으로 사용 가능한 (추상화된) 컴포넌트는 **common**에 분류합니다.

---

## 프로젝트 네이밍 철학

1.  모든 구성요소는 **대문자로 시작**하며 종류에 따른 분류를 따릅니다. 해당 분류는 **요소 + 분류**로 진행합니다. (예: `ReciverPage`)
2.  커스텀 훅은 `use함수명`으로 진행합니다.
3.  목(mock) 데이터는 **캐멀 케이스**로 작성합니다.
4.  상수는 **스네이크 케이스**로 작성합니다.

---

## 왜 이런식으로 분류했는가?

재사용성을 극대화하고 차후 유지보수를 위해 한눈에 알아보는 구조가 필요했습니다. 전체적인 로직에 대한 이해도가 필요하긴 하지만, 유지보수성이 극대화될 것이라고 예상합니다. (각 컴포넌트별로 하나의 기능만을 분류)

---

## 예상되는 문제점

**Cards** 하나만 반환하는 **Section**으로 인해 **Props Drilling**이 발생할 것이라고 예상됩니다.

---

## Step 1 구현 현황

### 선물 테마 섹션

- [v] `/api/themes` **API를 호출**하여 선물 테마 목록을 가져와야 합니다.
  - `theme.ts`를 통해 구현했습니다.
- [v] 데이터를 불러오는 동안 **로딩 화면을 표시**해야 합니다.
  - `isLoading` 상태를 추가하여 조건에 따라 화면에 렌더링되게 구현했습니다.
- [v] API 호출 결과 데이터가 없거나 오류가 발생할 경우, **선물 테마 섹션을 화면에 표시하지 않아야** 합니다.
  - `error` 조건절 검사를 통해, 에러 시 화면에 렌더링되지 않게 구현했습니다.

---

### 실시간 급상승 선물 랭킹 섹션

- [v] `/api/products/ranking` **API를 호출**하여 실시간 급상승 선물 랭킹 목록을 가져와야 합니다.
  - `product.ts`에 있는 `getRankingProducts`를 통해 목록을 가져옵니다.
- [v] 각 필터(예: 카테고리, 가격대) 선택 시, 해당 필터 값에 맞는 **API를 다시 호출하여 데이터를 갱신**해야 합니다.
  - `sortipotionSection`을 통해 구현했습니다. `useEffect`를 통해 선택된 필터가 변경 시 새롭게 `fetchRanking`을 호출하여 갱신합니다.
- [v] 데이터를 불러오는 동안 **로딩 화면을 표시**해야 합니다.
  - `isLoading` 상태를 추가하여 조건에 따라 화면에 렌더링되게 구현합니다.
- [v] 보여줄 상품 목록이 없을 경우, **"상품 목록이 없습니다"와 같은 안내 문구를 화면에 표시**해야 합니다.
  - `RankingProductList`에 전달받은 `props` 중 `product`의 길이가 0일 때 조건부 렌더링을 하도록 만들었습니다.

---

## Step 2 구현 현황

### 로그인 기능

- [v] `/login` API를 호출하여 로그인 기능을 구현해야 합니다.
  - `auth.ts`의 `loginApi`를 만들어 호출합니다.
- [v] 로그인 성공 시 응답으로 받는 `authToken`, `email`, `name`을 `userInfo` 스토리지에 저장하고 활용해야 합니다.
  - `AuthProvider`를 활용하여 저장합니다.
- [v] **4XX 에러 발생 시** `react-toastify` 라이브러리를 사용하여 **에러 메시지를 토스트로 표시**해야 합니다.
  - `const notify = (message: string) => toast(`${message}`);`를 설정하여 `LoginPage`에서 로그인 에러 발생 시 화면에 뜨게 설정했습니다.

---

### 주문하기 기능 (제품 정보 가져오기)

- [v] `/products/:productId/summary` API를 호출하여 제품 정보를 가져와야 합니다.
  - `product.ts`의 정보 가져오기를 통해 `props` 전달을 통해 구현했습니다.
- [v] 제품 정보 API에서 **4XX 에러 발생 시**, `react-toastify`를 사용하여 **에러 메시지를 토스트로 표시하고 선물하기 홈으로 이동**시켜야 합니다.
  - (세부 구현 방식은 별도로 명시되지 않았으나, 해당 요구사항을 충족하는 것으로 표시됨)
- [v] "보내는 사람" Input Field의 기본값은 `userInfo`에 저장된 `name`으로 채워져야 합니다.
  - `useAuth`에 있는 `userName`을 선언하고 가져옵니다.

---

### 주문하기 기능 (주문 완료)

- [v] `/order` API를 호출하여 주문하기 기능을 구현해야 합니다.
  - `order.ts`를 통해 구현했습니다.
- [v] 주문하기 API 호출 시 `Authorization` 헤더에 로그인 응답으로 받은 `authToken`을 포함시켜야 합니다.
  - `order.ts`를 통해 구현했습니다.
- [v] 주문하기 API에서 **401 에러 발생 시 로그인 페이지로 이동**시켜야 합니다.
  - `react-toastify`의 `onClose`를 이용하여 `Maps`로 이동시켰습니다.

---

## Step 3 구현 현황

### 테마 상품 목록 페이지 (공통)

- [v] 선물하기 홈의 선물 테마 아이템 클릭 시 **테마 상품 목록 페이지로 연결**되어야 합니다.
  - 이동 시 `theme.ts`를 호출하여 데이터를 `fetch`한 뒤에 `Maps`를 활용하여 이동시킵니다.

---

#### 히어로 영역 (선물 테마 섹션)

- [v] `/api/themes/:themeId/info` **API를 사용하여 히어로 영역을 구현**해야 합니다.
- [v] 테마 정보를 가져오는 API에서 **404 에러가 발생하면 선물하기 홈 페이지로 이동**시켜야 합니다.

---

#### 상품 리스트

- [v] `/api/themes/:themeId/products` **API를 사용하여 상품 리스트를 구현**해야 합니다.
- [v] **무한 스크롤 기능**을 구현해야 합니다.
  - `Intersection Observer`를 통해 구현했습니다.
- [v] 상품 리스트가 없을 경우 **빈 페이지를 보여줘야** 합니다.
  - 조건부 렌더링을 통해 값을 가져옵니다.
